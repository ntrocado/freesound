<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Freesound</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;} </style> </head> <body> <article class="project"> <header>  <h1>freesound</h1>  <span class="version">1.0</span>  <nav class="languages">  <a href="index.html">English</a>  </nav>  <p class="description">A client for Freesound.org.</p>  <nav class="pages">  <a href="index.html">freesound</a>  </nav> </header> <section id="documentation"><h1 id="common_lisp_client_for_the_freesound_api">Common Lisp client for the Freesound API</h1> <p><a href="https://freesound.org/">Freesound</a> is a large-scale collaborative database of audio recordings released under Creative Commons licenses. It offers an API for interacting with the database: searching for sounds, retrieving metadata, accessing audio content analysis, download and upload sounds, comment, rate, and bookmark, etc.</p> <p>This is a Common Lisp library for the API, created and maintained by <a href="https://nunotrocado.com">Nuno Trocado</a>, and released under the <a href="https://github.com/ntrocado/freesound/blob/master/LICENSE">MIT License</a>.</p> <h2 id="authentication">Authentication</h2> <p>The Freesound API offers two authentication strategies: token-based and OAuth2. The first one is simpler, but you need OAuth2 to access resources that imply a logged in user, including downloading sounds (but not lossy preview versions).</p> <h3 id="token_authentication">Token authentication</h3> <p>To use the token authentication strategy, <a href="https://freesound.org/apiv2/apply">request new API credentials</a> at Freesound. Then you'll be shown a table with the requested credentials. Set <code><a href="#VARIABLE%20FREESOUND%3A%2ATOKEN%2A" class="xref">*token*</a></code> to the alphanumeric string found in the &quot;Client secret/Api key&quot; column:</p> <pre><code>(setf <a href="#VARIABLE%20FREESOUND%3A%2ATOKEN%2A" class="xref">*token*</a> &lt;string&gt;)</code></pre> <p>If you save it on a &quot;.token&quot; file on the same directory as the <code>freesound</code> system, the code will be read automatically everytime the system is loaded.</p> <h3 id="oauth2_authentication">OAuth2 authentication</h3> <p>In addition to the previous steps, find the &quot;client id&quot; at the same credentials table in the Freesound website. Then do:</p> <pre><code>(setf <a href="#VARIABLE%20FREESOUND%3A%2ACLIENT-ID%2A" class="xref">*client-id*</a> &lt;string&gt;)
(<a href="#FUNCTION%20FREESOUND%3AOAUTH2-AUTHORIZE" class="xref">oauth2-authorize</a>)</code></pre> <p>The default browser will be opened and you'll be asked to log in and authorize the access to Freesound. The specific link will be also printed (typically to the REPL). Afterwards, you'll be redirected to another Freesound page showing you a new alphanumeric code. Copy this code and do:</p> <pre><code>(<a href="#FUNCTION%20FREESOUND%3AOAUTH2-GET-TOKENS" class="xref">oauth2-get-tokens</a> &lt;code&gt;)</code></pre> <p>This function stores the oauth2 token in <code><a href="#VARIABLE%20FREESOUND%3A%2AOAUTH2-ACCESS-TOKEN%2A" class="xref">*oauth2-access-token*</a></code>, which will be used in further API calls. It will also return two values: the access token itself and a refresh token. If you save the refresh token you can spare yourself (or the user of your app) the full authorization process, by using <code>(oauth2-get-tokens &lt;refresh token&gt; :refresh t)</code> each time the authorization times out, which it does after 24 hours.</p> <h2 id="documentation">Documentation</h2> <h2 id="examples">Examples</h2> <p>Perform a text search, using a minus '-' character to exclude terms from the search:</p> <pre><code>(<a href="#FUNCTION%20FREESOUND%3ATEXT-SEARCH" class="xref">text-search</a> &quot;conga percussive -loop&quot;)</code></pre> <p>This is equivalent:</p> <pre><code>(<a href="#FUNCTION%20FREESOUND%3ATEXT-SEARCH" class="xref">text-search</a> '(&quot;conga&quot; &quot;percussive&quot; &quot;-loop&quot;))</code></pre> <p>In general, any request parameters can be passed either as a single string conforming to the API syntax, or as a list of terms.</p> <p>Filter properties can be further specified with the operators <code>:and</code>, <code>:or</code>, <code>:range</code>, <code>:range-to</code>, and <code>:range-from</code>. For example:</p> <pre><code>(<a href="#FUNCTION%20FREESOUND%3ATEXT-SEARCH" class="xref">text-search</a> &quot;rain&quot; 
             :filter '((:tag (:and &quot;soundscape&quot; &quot;forest&quot;)) 
                       (:created (:range-from &quot;2010-12-01T23:59:59.999Z&quot;)) 
                       (:duration (:range 10 120))))</code></pre> <p><code><a href="#FUNCTION%20FREESOUND%3APRINT-SEARCH-RESULT" class="xref">print-search-result</a></code> is a convenience function to pretty print the results.</p> <p>Here's another example:</p> <pre><code>(<a href="#FUNCTION%20FREESOUND%3APRINT-SEARCH-RESULT" class="xref">print-search-result</a> (<a href="#FUNCTION%20FREESOUND%3ATEXT-SEARCH" class="xref">text-search</a> &quot;piano&quot;
                                  :filter '(:duration (:range-to 2))
                                  :sort &quot;rating_desc&quot;
                                  :page-size 3
                                  :fields '(&quot;id&quot; &quot;name&quot; &quot;analysis&quot;)
                                  :descriptors '(&quot;lowlevel.spectral_centroid.mean&quot;
                                                 &quot;lowlevel.pitch.mean&quot;)))</code></pre> <p>Which prints:</p> <pre><code>The search returned 3 results from a total of 943:

id:            442981
name:          Sol-G.m4a
analysis:      lowlevel:      spectral_cent: mean:          499.9333
                              pitch:         mean:          386.42862

id:            39210
name:          Piano ff 062.wav
analysis:      lowlevel:      spectral_cent: mean:          1047.3967
                              pitch:         mean:          933.2059

id:            337302
name:          MSfxP6 - 183 - One Shot Sound 3
analysis:      lowlevel:      spectral_cent: mean:          435.96042
                              pitch:         mean:          460.73337</code></pre> <h2 id="contributing">Contributing</h2> <p>Feedback, questions, bug reports, pull requests, etc. are welcomed.</p> </section>   <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">1.0</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external">alexandria</a></li><li><a class="external">cl-ppcre</a></li><li><a class="external">dexador</a></li><li><a class="external">yason</a></li><li><a class="external" href="https://github.com/eudoxia0/trivial-open-browser">trivial-open-browser</a></li></ul> </div>   <div class="row"> <label for="author">Author:</label> <a id="author" href="mailto:https://nunotrocado.com">Nuno Trocado</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://github.com/nunotrocado/freesound/blob/master/LICENSE">MIT</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://nunotrocado.github.io/freesound/">https://nunotrocado.github.io/freesound/</a> </div>   <div class="row"> <label for="sources">Sources:</label> <a id="sources" href="https://github.com/ntrocado/freesound">https://github.com/ntrocado/freesound</a> </div>  </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE FREESOUND"> <header> <h3> <a href="#PACKAGE%20FREESOUND">FREESOUND</a> </h3> <ul class="nicknames"></ul>  </header> <div class="docstring"><pre>Common Lisp client to the Freesound API.</pre></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE FREESOUND:*CLIENT-ID*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20FREESOUND%3A%2ACLIENT-ID%2A">*CLIENT-ID*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L15">Source</a>  </header> <div class="docstring"><pre>An alphanumeric string issued by Freesound, used as part of OAuth2 authentication.</pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE FREESOUND:*OAUTH2-ACCESS-TOKEN*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20FREESOUND%3A%2AOAUTH2-ACCESS-TOKEN%2A">*OAUTH2-ACCESS-TOKEN*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L20">Source</a>  </header> <div class="docstring"><pre>An alphanumeric string used as an access token for OAuth2 restricted resources. Call `oauth2-get-tokens` to initialize.</pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE FREESOUND:*OAUTH2-REFRESH-TOKEN*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20FREESOUND%3A%2AOAUTH2-REFRESH-TOKEN%2A">*OAUTH2-REFRESH-TOKEN*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L22">Source</a>  </header> <div class="docstring"><pre>An alphanumeric string used to get a new OAuth2 access token, without starting the whole authentication process. Call `oauth2-get-tokens` to initialize. To refresh the OAuth2 access token, pass this to `oauth2-get-tokens` with `:refresh t`.</pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE FREESOUND:*TOKEN*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20FREESOUND%3A%2ATOKEN%2A">*TOKEN*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L10">Source</a>  </header> <div class="docstring"><pre>An alphanumeric string issued by Freesound to authenticate API calls.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:ANALYSIS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AANALYSIS">ANALYSIS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DESCRIPTORS</li>    <li class="argument">NORMALIZED</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L239">Source</a>  </header> <div class="docstring"><pre>Retrieve analysis information (content-based descriptors) on SOUND-ID.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id58</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:BOOKMARK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ABOOKMARK">BOOKMARK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">NAME</li>    <li class="argument">CATEGORY</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L362">Source</a>  </header> <div class="docstring"><pre>Bookmark an existing sound SOUND-ID. The sound will be bookmarked by the Freesound user logged in using OAuth2, therefore this method requires OAuth2 authentication.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id66</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:COMBINED-SEARCH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ACOMBINED-SEARCH">COMBINED-SEARCH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">QUERY</li>    <li class="argument">FILTER</li>    <li class="argument">SORT</li>    <li class="argument">TARGET</li>    <li class="argument">DESCRIPTORS-FILTER</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>    <li class="argument">FIELDS</li>    <li class="argument">DESCRIPTORS</li>    <li class="argument">NORMALIZED</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L186">Source</a>  </header> <div class="docstring"><pre>Perform a combination of text search and content search, returning a hash-table with the sound list response.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id55

See `text-search` and `content-search`.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:COMMENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ACOMMENT">COMMENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument">COMMENT</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L380">Source</a>  </header> <div class="docstring"><pre>Post a COMMENT to an existing sound SOUND-ID. The comment will appear to be made by the Freesound user logged in using OAuth2.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id68</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:COMMENTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ACOMMENTS">COMMENTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L266">Source</a>  </header> <div class="docstring"><pre>Retrieves comments for SOUND-ID.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id60</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:CONTENT-SEARCH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ACONTENT-SEARCH">CONTENT-SEARCH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">TARGET</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DESCRIPTORS-FILTER</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>    <li class="argument">FIELDS</li>    <li class="argument">DESCRIPTORS</li>    <li class="argument">NORMALIZED</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L169">Source</a>  </header> <div class="docstring"><pre>Search sounds based on their content descriptors, returning a hash-table with the sound list response.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id54

The filter syntax described in `text-search` also applies to DESCRIPTORS-FILTER.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:DESCRIBE-SOUND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ADESCRIBE-SOUND">DESCRIBE-SOUND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">UPLOAD-FILENAME</li>    <li class="argument">TAGS</li>    <li class="argument">DESCRIPTION</li>    <li class="argument">LICENSE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">NAME</li>    <li class="argument">PACK</li>    <li class="argument">GEOTAG</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L328">Source</a>  </header> <div class="docstring"><pre>Describe a previously uploaded audio file that has not yet been described. OAuth2 required.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id63

LICENSE is either one of the strings accepted by the API, or one of the following: :attribution, :attribution-noncommercial, :creative-commons.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:DESCRIPTORS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ADESCRIPTORS">DESCRIPTORS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L483">Source</a>  </header> <div class="docstring"><pre>Information about the available audio descriptors that are extracted from Freesound sounds.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id81</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:DOWNLOAD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ADOWNLOAD">DOWNLOAD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument">PATHNAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">IF-EXISTS</li>    <li class="argument">IF-DOES-NOT-EXIST</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L275">Source</a>  </header> <div class="docstring"><pre>Download SOUND-ID into PATHNAME. Keyword options are as in `open`. OAuth2 required.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id61</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:EDIT-SOUND-DESCRIPTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AEDIT-SOUND-DESCRIPTION">EDIT-SOUND-DESCRIPTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">NAME</li>    <li class="argument">TAGS</li>    <li class="argument">DESCRIPTION</li>    <li class="argument">LICENSE</li>    <li class="argument">PACK</li>    <li class="argument">GEOTAG</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L348">Source</a>  </header> <div class="docstring"><pre>Edit the description of an already existing sound. Note that this resource can only be used to edit descriptions of sounds created by the Freesound user logged in using OAuth2.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id65

LICENSE is either one of the strings accepted by the API, or one of the following: :attribution, :attribution-noncommercial, :creative-commons.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:INFO"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AINFO">INFO</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">FIELDS</li>    <li class="argument">DESCRIPTORS</li>    <li class="argument">NORMALIZED</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L214">Source</a>  </header> <div class="docstring"><pre>Retrieve information about SOUND-ID.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id57</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:ME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AME">ME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L477">Source</a>  </header> <div class="docstring"><pre>Information about the user that is logged in using the OAuth2 procedure.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id80</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:OAUTH2-AUTHORIZE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AOAUTH2-AUTHORIZE">OAUTH2-AUTHORIZE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">CLIENT-ID</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L30">Source</a>  </header> <div class="docstring"><pre>As the first step of OAuth2 authentication, open the default browser on a Freesound page, where users are prompted to log in and asked to give permission for the application. The url is also printed to standard output.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:PACK-DOWNLOAD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3APACK-DOWNLOAD">PACK-DOWNLOAD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PACK-ID</li>    <li class="argument">PATHNAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">IF-EXISTS</li>    <li class="argument">IF-DOES-NOT-EXIST</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L460">Source</a>  </header> <div class="docstring"><pre>Download PACK-ID into PATHNAME. Keyword options are as in `open`. OAuth2 required.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id78</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:PACK-INSTANCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3APACK-INSTANCE">PACK-INSTANCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PACK-ID</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L442">Source</a>  </header> <div class="docstring"><pre>Retrieve information about the pack PACK-ID.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id76</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:PACK-SOUNDS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3APACK-SOUNDS">PACK-SOUNDS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PACK-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>    <li class="argument">FIELDS</li>    <li class="argument">DESCRIPTORS</li>    <li class="argument">NORMALIZED</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L448">Source</a>  </header> <div class="docstring"><pre>Retrieve information about the sounds included in the pack PACK-ID.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id77</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:PENDING-UPLOADS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3APENDING-UPLOADS">PENDING-UPLOADS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L342">Source</a>  </header> <div class="docstring"><pre>Retrieve a list of audio files uploaded by the Freesound user logged in using OAuth2 that have not yet been described, processed or moderated.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id64</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:PREVIEW"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3APREVIEW">PREVIEW</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument">PATHNAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">FORMAT</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L232">Source</a>  </header> <div class="docstring"><pre>Download a lossy version of SOUND-ID, writing it to PATHNAME. FORMAT is either :hq-mp3, :hq-ogg, :lq-mp3, :lq-ogg, where &quot;hq&quot; is higher quality and &quot;lq&quot; lower quality.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:PRINT-INFO"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3APRINT-INFO">PRINT-INFO</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INFO</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">STREAM</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L497">Source</a>  </header> <div class="docstring"><pre>Pretty print INFO, which is the response to `info` (sound instance) or to `analysis`.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:PRINT-SEARCH-RESULT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3APRINT-SEARCH-RESULT">PRINT-SEARCH-RESULT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SEARCH-RESULT</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">STREAM</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L502">Source</a>  </header> <div class="docstring"><pre>Pretty print SEARCH-RESULT, a sound list response.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:RATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ARATE">RATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument">RATING</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L371">Source</a>  </header> <div class="docstring"><pre>Rate an existing sound SOUND-ID with RATING, between 0 and 5 (where 5 is the maximum). The sound will be rated by the Freesound user logged in using OAuth2.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id67</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:SIMILAR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ASIMILAR">SIMILAR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SOUND-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DESCRIPTORS-FILTER</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>    <li class="argument">FIELDS</li>    <li class="argument">DESCRIPTORS</li>    <li class="argument">NORMALIZED</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L249">Source</a>  </header> <div class="docstring"><pre>Retrieve sounds similar to SOUND-ID, returning a hash table with the sound list response.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id59

The filter syntax described in `text-search` also applies to DESCRIPTORS-FILTER.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:TEXT-SEARCH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3ATEXT-SEARCH">TEXT-SEARCH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">QUERY</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">FILTER</li>    <li class="argument">SORT</li>    <li class="argument">GROUP-BY-PACK</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>    <li class="argument">FIELDS</li>    <li class="argument">DESCRIPTORS</li>    <li class="argument">NORMALIZED</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L129">Source</a>  </header> <div class="docstring"><pre>Search sounds by matching their tags and other kids of metadata, returning a hash-table with the sound list response.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id53

FILTER is either a string conforming to the API syntax, or a list of key/value pairs. For example:
(text-search &quot;trumpet&quot; :filter '((:type &quot;ogg&quot;) (:channels 2)))

Each filter property can be further specified with the operators :and, :or, :range, :range-to, and :range-from. For example:
(text-search &quot;rain&quot; 
             :filter '((:tag (:and &quot;soundscape&quot; &quot;forest&quot;)) 
                       (:created (:range-from &quot;2010-12-01T23:59:59.999Z&quot;)) 
                       (:duration (:range 10 120))))</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:UPLOAD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AUPLOAD">UPLOAD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">FILE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">NAME</li>    <li class="argument">TAGS</li>    <li class="argument">DESCRIPTION</li>    <li class="argument">LICENSE</li>    <li class="argument">PACK</li>    <li class="argument">GEOTAG</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L311">Source</a>  </header> <div class="docstring"><pre>Upload an audio FILE into Freesound and (optionally) describe it. OAuth2 required.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id62

LICENSE is either one of the strings accepted by the API, or one of the following: :attribution, :attribution-noncommercial, :creative-commons.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:USER-BOOKMARK-CATEGORIES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AUSER-BOOKMARK-CATEGORIES">USER-BOOKMARK-CATEGORIES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USERNAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L417">Source</a>  </header> <div class="docstring"><pre>Retrieve the bookmark categories uploaded by Freesound user USERNAME, returning a hash table with the sound list response.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id73</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:USER-INSTANCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AUSER-INSTANCE">USER-INSTANCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USERNAME</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L390">Source</a>  </header> <div class="docstring"><pre>Retrieve information about Freesound user USERNAME.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id70</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:USER-PACKS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AUSER-PACKS">USER-PACKS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USERNAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L408">Source</a>  </header> <div class="docstring"><pre>Retrieve information about the packs uploaded by Freesound user USERNAME, returning a hash table with the sound list response.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id72</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION FREESOUND:USER-SOUNDS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20FREESOUND%3AUSER-SOUNDS">USER-SOUNDS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USERNAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PAGE</li>    <li class="argument">PAGE-SIZE</li>    <li class="argument">FIELDS</li>    <li class="argument">DESCRIPTORS</li>    <li class="argument">NORMALIZED</li>  </ul>  <a class="source-link" href="https://github.com/nunotrocado/freesound/blob/master/freesound.lisp#L396">Source</a>  </header> <div class="docstring"><pre>Retrieve information about the sounds uploaded by Freesound user USERNAME, returning a hash table with the sound list response.

API documentation: https://freesound.org/docs/api/resources_apiv2.html#id71</pre></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 